{% extends "base.html" %}
{% block title %}Home | Pathdarshak{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="card shadow p-4">
    <h3 class="text-center">ðŸ•‰ Panchang Finder</h3>
    <form method="post" class="mt-3">
      {% csrf_token %}
      <div class="row">
        <div class="col-md-6">
          <label>Date</label>
          <input type="date" name="date" class="form-control" required>
        </div>
        <div class="col-md-6">
          <label>Time</label>
          <input type="time" name="time" class="form-control" value="12:00">
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-md-6">
          <label>Latitude</label>
          <input type="text" name="lat" class="form-control" value="28.6139">
        </div>
        <div class="col-md-6">
          <label>Longitude</label>
          <input type="text" name="lon" class="form-control" value="77.2090">
        </div>
      </div>
      <button type="submit" class="btn btn-primary mt-3 w-100">Get Panchang</button>
    </form>

    {% if result %}
<div class="mt-4">
  <h5 class="text-center">ðŸ“œ Panchang Result</h5>
  <ul class="list-group">
    <li class="list-group-item"><b>Tithi:</b> {{ result.tithi }}</li>
    <li class="list-group-item"><b>Nakshatra:</b> {{ result.nakshatra }}</li>
    <li class="list-group-item"><b>Yoga:</b> {{ result.yoga }}</li>
    <li class="list-group-item"><b>Karana:</b> {{ result.karana }}</li>
    <li class="list-group-item"><b>Weekday:</b> {{ result.weekday }}</li>
    <li class="list-group-item"><b>Sunrise:</b> {{ result.sunrise }}</li>
    <li class="list-group-item"><b>Sunset:</b> {{ result.sunset }}</li>
    <li class="list-group-item"><b>Rahu Kaal:</b> {{ result.rahu_kaal }}</li>
    <li class="list-group-item"><b>Gulika Kaal:</b> {{ result.gulika_kaal }}</li>
    <li class="list-group-item"><b>Yamaganda:</b> {{ result.yamaganda }}</li>
    <li class="list-group-item"><b>Abhijit Muhurta:</b> {{ result.abhijit_muhurta }}</li>
  </ul>
    {% if result.choghadiya_day %}
    <div class="mt-4">
    <h5>ðŸŒž Day Choghadiya</h5>
    <ul class="list-group">
        {% for cho in result.choghadiya_day %}
        <li class="list-group-item"><b>{{ cho.name }}</b>: {{ cho.time }}</li>
        {% endfor %}
    </ul>
    </div>
    <div class="mt-4">
    <h5>ðŸŒ™ Night Choghadiya</h5>
    <ul class="list-group">
        {% for cho in result.choghadiya_night %}
        <li class="list-group-item"><b>{{ cho.name }}</b>: {{ cho.time }}</li>
        {% endfor %}
    </ul>
    </div>
{% endif %}

</div>
{% endif %}
  </div>
</div>
{% endblock %}
